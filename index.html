<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>
	<main id="app"></main>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react-dom.js"></script>
	<script type="text/babel">
		// Creando un componente por medio de una funcion
		function Hola(props) {
			// Creando elemento h en el DOM con JSX, sin utilizar React.DOM.h1({id: 'Title'}, `Hola ${name}`)
			return (
				<h1 id="Title" onClick={props.onClick}>
					Hola {props.name} {props.count}
				</h1>
			)
		}

		// Creando un componente por medio de una clase
		class MiComponente extends React.Component {

			// metodo constructor que va a recibir los props y va a pasarselos a la clase que estamos extendiendo
			constructor(props) {
				// hacer el super(props) es obligatorio siempre que utilizemos el metodo constructor y nos permite utilizar this.state
				super(props)

				// aqui seteamos un objeto que va a ser el estado actual de la app
				this.state = {
					count: 0
				}

				/*
					Cuando asignamos una funcion para que escuche eventos en un elemento nativo del DOM, el valor del this se pisa por el elemento, entonces no tenemos acceso al componente, para solucionar esto utilizamos

						this.handleClick = this.handleClick.bind(this)

					y asi pisamos la funcion handleClick con esa misma funcion pero cuyo this va a ser el componente
				*/
				this.handleClick = this.handleClick.bind(this)
			}

			handleClick() {
				// metodo setState que podemos utilizar gracias a extender React.Component, me permite actualizar el estado o una key particular del estado
				this.setState({
					count: this.state.count + 1
				})
			}

			render () {
				const name = this.props.name
				return (
					<Hola
						name={this.props.name}
						count={this.state.count}
						onClick={this.handleClick}
					/>
				)
			}
		}

		// Mostrando componente en la GUI, con el metodo render de ReactDOM
		ReactDOM.render(
			<MiComponente name="Mundo"/>,
			document.getElementById('app')
		)

	</script>
</body>
</html>